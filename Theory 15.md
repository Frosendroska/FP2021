# Теория. Билет 15 "Понятие главного (наиболее общего) типа. Подстановки типа и их композиция. Унификаторы." (Денис Шестаков)

## Напоминание

Есть система типов а ля Карри

![alt text](https://ie.wampi.ru/2021/12/24/15.1.png)

Есть система типов а ля Чёрч

В системе типов а ля Чёрч переменные атрибутированы типами. Поэтому если у
выражения есть тип, то он единственный.

![alt text](https://ie.wampi.ru/2021/12/24/15.2c76722d69c7a408e.png)

У нас есть леммы подстановки типа, различные в двух системах:

![alt text](https://ie.wampi.ru/2021/12/24/15.3ebe4722e7053bfc7.png)

Однако в системе Чёрча верна теорема о единственности

![alt text](https://ie.wampi.ru/2021/12/24/15.444cbdbc9c40558b1.png)

## Понятие главного (наиболее общего) типа

### Интуитивно

![alt text](https://ie.wampi.ru/2021/12/24/15.5d2f7a6df4e951409.png)

Т.е. существует тип, из которого можно получить любой другой подстановкой.
Хочется его найти.

### Формально

![alt text](https://ie.wampi.ru/2021/12/24/15.6.png)

Здесь **S** - подстановка типа в тип.

## Подстановки типа и их композиция.

![alt text](https://ie.wampi.ru/2021/12/24/15.7.png)

![alt text](https://ie.wampi.ru/2021/12/24/15.8.png)

Сделаем подстановку моноидом:

```
instance Semigroup SubsTy where
    (<>) = composeSubsTy
instance Monoid SubsTy where
    mempty = SubsTy []
```

## Унификаторы

![alt text](https://ie.wampi.ru/2021/12/24/15.9.png)

Заметим, что подстановки не коммутируют.

![alt text](https://ie.wampi.ru/2021/12/24/15.10.png)

А еще есть понятие главного унификатора.

![alt text](https://ie.wampi.ru/2021/12/24/15.11.png)